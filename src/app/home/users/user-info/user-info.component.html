<ng-template tdLoading [tdLoadingUntil]="!isLoading" tdLoadingStrategy="overlay" tdLoadingType="tdMode=">
    <div mat-dialog-content>

        <div class="app-popup-title">{{isEdit ? 'Edit User' : 'Add New User'}}</div>

        <br>
 
        <div fxLayout="column">

            <mat-form-field [appearance]="appearance">
                <mat-label>Name</mat-label>
                <input [(ngModel)]="userModel.name" (ngModelChange)="onCheckCanSave()" required matInput required type="text" >
            </mat-form-field>

            <mat-form-field [appearance]="appearance">
                <mat-label>Email</mat-label>
                <input [formControl]="emailControl" (ngModelChange)="onCheckCanSave()" matInput required type="text" >
            </mat-form-field>

            <mat-form-field [appearance]="appearance">
                <mat-label>Role</mat-label>
                <mat-select [(ngModel)]="userModel.roleId" (ngModelChange)="onCheckCanSave()" >
                    <mat-option *ngFor="let item of roleList" [value]="item.id">
                        {{item.name}}
                    </mat-option>
                  </mat-select>
            </mat-form-field>

        </div>

        <div fxLayout="row" fxLayoutAlign="center center" style="margin-top: 20px;">
            
            <button fxFlex="30" mat-flat-button [mat-dialog-close] class="btn-app-popup-cancel">
                Cancel
            </button>

            <div fxFlex="5"></div>

            <button fxFlex="30" mat-flat-button [disabled]="!isCanSave" class="btn-app-popup-create" (click)="onSave()">
                {{isEdit ? 'Save' : 'Create'}}
            </button>
            
        </div>
        
    </div>
</ng-template>